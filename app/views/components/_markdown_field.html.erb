<%# locals: (form:, name:, autofocus: false, options: {}) %>

<div class="markdown-field ring-1 focus-within:ring-2 ring-outline focus-within:ring-primary rounded group" data-controller="markdown-field">
  <%= form.hidden_field name, options.merge(data: { markdown_field_target: "contentInput" }) %>
  <div class="flex items-center p-1 gap-1 rounded-t border-b border-outline-variant">
    <button type="button" class="button button--text text-on-surface-variant button--active" data-markdown-field-target="editButton" data-action="markdown-field#write">
      <%= t "general.edit" %>
    </button>
    <button type="button" class="button button--text text-on-surface-variant" data-markdown-field-target="previewButton" data-action="markdown-field#preview">
      <%= t "general.preview" %>
    </button>
    <div class="border-l border-outline-variant h-6 mx-1"></div>
    <button type="button" class="icon-button" data-markdown-field-target="toolbarButton" data-action="markdown-field#attachFile">
      <x-icon>attach_file</x-icon>
    </button>
  </div>
  <markdown-editor input="<%= form.field_id name %>" class="min-h-[160px]" data-markdown-field-target="markdownEditor"></markdown-editor>
</div>
