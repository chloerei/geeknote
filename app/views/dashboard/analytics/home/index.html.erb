<div class="navbar px-0 gap-4">
  <div class="flex-none">
    <label for="drawer" class="btn btn-square btn-ghost lg:hidden">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu-icon lucide-menu"><path d="M4 5h16"/><path d="M4 12h16"/><path d="M4 19h16"/></svg>
    </label>
  </div>
  <div class="flex-grow">
    <div class="text-xl font-medium">
      <%= t "general.analytics" %>
    </div>
  </div>
</div>

<div class="card card-default">
  <div class="card-body">
    <h2 class="card-title">
      <%= t "general.post_views" %>
    </h2>

    <%= line_chart @post_views_data, library: { scales: { x: { time: { tooltipFormat: "MM-dd", displayFormats: { day: "MM-dd" } } } } } %>
  </div>
</div>

<div class="card card-default mt-4">
  <div class="card-body">
    <h2 class="card-title">
      <%= t "general.top_referers" %>
    </h2>

    <table class="table">
      <thead>
        <tr>
          <th><%= t "general.referrer" %></th>
          <th><%= t "general.count" %></th>
        </tr>
      </thead>
      <tbody>
        <% @references_data.each do |referrer, count| %>
          <tr>
            <td><%= referrer.present? ? referrer : t("general.direct_traffic") %></td>
            <td><%= count %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
