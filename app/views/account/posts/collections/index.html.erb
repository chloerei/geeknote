<div class="container container--small">
  <%= turbo_frame_tag "post-#{@post.id}-collections" do %>
    <div class="toolbar border-bottom">
      <div class="toolbar__action">
        <button type="button" class="button button--text">
          <div class="button__text">
            <%= @saved_account.name %>
          </div>
          <div class="button__icon">
            <span class="material-icons">expand_more</span>
          </div>
        </button>
      </div>
      <div class="toolbar__space">
      </div>
      <div class="toolbar__action">
        <button type="button" class="button button--icon" data-action="dialog#close">
          <span class="material-icons">close</span>
        </button>
      </div>
    </div>

    <% if @collections.any? %>
      <div class="list">
        <% @collections.each do |collection| %>
          <label class="list__item flex-align-items-center">
            <div class="list__check">
              <%= form_with model: collection, url: account_post_collection_path(@account, @post, collection), builder: CustomFormBuilder, class: 'form', data: { controller: 'form', action: 'change->form#submit' } do |form| %>
                <%= form.check_box :added %>
              <% end %>
            </div>
            <div class="list__content">
              <%= collection.name %>
            </div>
            <div class="list__icon">
              <% case collection.visibility when 'private' %>
                <span class="material-icons">lock</span>
              <% when 'public' %>
                <span class="material-icons">public</span>
              <% end %>
            </div>
          </label>
        <% end %>
      </div>
    <% else %>
      <div class="content-placeholder">
        <div class="content-placeholder__icon">
          <span class="material-icons">library_books</span>
        </div>
        <div class="content-placeholder__label">
          <%= t 'common.collections' %>
        </div>
      </div>
    <% end %>

    <div class="toolbar border-top">
      <div class="toolbar__action">
        <a href="<%= new_account_post_collection_path(@account, @post) %>" class="button button--text">
          <div class="button__icon">
            <span class="material-icons">add</span>
          </div>
          <div class="button__text">
            <%= t 'common.new_collection' %>
          </div>
        </a>
      </div>
    </div>
  <% end %>
</div>
