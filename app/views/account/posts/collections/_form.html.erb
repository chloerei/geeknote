<%= form_with model: @collection, url: account_post_collections_path(@account, @post), builder: CustomFormBuilder, id: "post-#{@post.id}-collection-form", class: 'form display-contents' do |form| %>
  <div class="display-flex align-items-center gap-2 padding-3 border-bottom">
    <a href="<%= account_post_collections_path(@account, @post) %>" class="button button--icon">
      <span class="material-icons">arrow_back</span>
    </a>
    <div class="flex-grow-1">
      <%= t 'common.new_collection' %>
    </div>
  </div>
  <div class="padding-3 overflow-auto">
    <div class="margin-bottom-3">
      <%= form.text_field :name, autocomplete: 'off', autofocus: true %>
    </div>
    <div class="margin-bottom-3">
      <%= form.text_area :description %>
    </div>
    <div class="form__control">
      <%= form.radio_button :visibility, :private %>
      <label for="collection_visibility_private" class="form__control__label">
        <div class="text-primary">
          <%= t 'collection.visibility_private_label' %>
        </div>
        <div class="text-secondary">
          <%= t 'collection.visibility_private_description' %>
        </div>
      </label>
    </div>
    <div class="form__control">
      <%= form.radio_button :visibility, :public %>
      <label for="collection_visibility_public" class="form__control__label">
        <div class="text-primary">
          <%= t 'collection.visibility_public_label' %>
        </div>
        <div class="text-secondary">
          <%= t 'collection.visibility_public_description' %>
        </div>
      </label>
    </div>
  </div>
  <div class="display-flex justify-content-flex-end padding-3">
    <a href="<%= account_post_collections_path(@account, @post) %>" class="button button--text button--primary">
      <%= t 'common.cancel' %>
    </a>
    <button type="submit" class="button button--text button--primary">
      <%= t 'common.create_collection' %>
    </button>
  </div>
<% end %>
