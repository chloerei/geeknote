<button type="button" class="button button--text button--primary" data-controller="toggle" data-toggle-target="#publish-dialog" data-toggle-action="dialog#toggle" data-action="post-editor#save">
  <% if @post.draft? %>
    <%= t 'common.publish' %>
  <% else %>
    <%= t 'common.update' %>
  <% end %>
</button>
<div id="publish-dialog" class="dialog" data-controller="dialog">
  <div class="dialog__container padding-3">
    <div class="margin-bottom-2">
      <% if @post.draft? %>
        <h3 class="subtitle-1">
          <%= t '.publish_title' %>
        </h3>
        <div class="text-muted">
          <%= t '.publish_description' %>
        </div>
      <% else %>
        <h3 class="subtitle-1">
          <%= t '.update_title' %>
        </h3>
        <div class="text-muted">
          <%= t '.update_description' %>
        </div>
      <% end %>
    </div>
    <div class="display-flex gap-2 justify-content-flex-end">
      <button type="button" class="button button--text button--primary" data-action="dialog#close">
        <%= t 'common.cancel' %>
      </button>
      <%= form_with model: @post, url: publish_account_dashboard_post_path(@account, @post) do |form| %>
        <button type="submit" class="button button--text button--primary">
          <%= t 'common.publish' %>
        </button>
      <% end %>
    </div>
  </div>
  <div class="dialog__scrim" data-action="click->dialog#close">
  </div>
</div>
